{"remainingRequest":"/home/prantho/Public/important/vue/blog_api/node_modules/babel-loader/lib/index.js!/home/prantho/Public/important/vue/blog_api/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/prantho/Public/important/vue/blog_api/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/prantho/Public/important/vue/blog_api/src/views/login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/prantho/Public/important/vue/blog_api/src/views/login.vue","mtime":1651430710746},{"path":"/home/prantho/Public/important/vue/blog_api/babel.config.js","mtime":1644956430197},{"path":"/home/prantho/Public/important/vue/blog_api/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/prantho/Public/important/vue/blog_api/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/prantho/Public/important/vue/blog_api/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/prantho/Public/important/vue/blog_api/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5QYWdlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkaW5nVG9nZ2xlIiwgdHJ1ZSk7CiAgICAgIGF4aW9zLnBvc3QoImFwaS9sb2dpbiIsIHsKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgIGF4aW9zLmdldCgiYXBpL3VzZXIiLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyByZXMuZGF0YQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldEF1dGgiLCB7CiAgICAgICAgICAgICAgdG9rZW46IHJlcy5kYXRhLAogICAgICAgICAgICAgIHVzZXI6IHJlc3AuZGF0YQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgiLyIpOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgibG9hZGluZ1RvZ2dsZSIsIGZhbHNlKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkaW5nVG9nZ2xlIiwgZmFsc2UpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQyMikgewogICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAuCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,WADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,cAAQ,EAAE,EAFL;AAGLC,WAAK,EAAE;AAHF,KAAP;AAKD,GARY;AASbC,SAAO,EAAE;AACPC,SADO,mBACC;AAAA;;AACN,WAAKC,MAAL,CAAYC,MAAZ,CAAmB,eAAnB,EAAoC,IAApC;AACAT,WAAI,CACDU,IADH,CACQ,WADR,EACqB;AACjBP,aAAK,EAAE,KAAKA,KADK;AAEjBC,gBAAQ,EAAE,KAAKA;AAFE,OADrB,EAKGO,IALH,CAKQ,UAACC,GAAD,EAAS;AACb,YAAIA,GAAG,CAACV,IAAR,EAAc;AACZF,eAAI,CACDa,GADH,CACO,UADP,EACmB;AACfC,mBAAO,EAAE;AACPC,2BAAa,EAAE,YAAYH,GAAG,CAACV;AADxB;AADM,WADnB,EAMGS,IANH,CAMQ,UAACK,IAAD,EAAU;AACd,iBAAI,CAACR,MAAL,CAAYC,MAAZ,CAAmB,SAAnB,EAA8B;AAC5BQ,mBAAK,EAAEL,GAAG,CAACV,IADiB;AAE5BgB,kBAAI,EAAEF,IAAI,CAACd;AAFiB,aAA9B;;AAIA,iBAAI,CAACiB,OAAL,CAAaC,OAAb,CAAqB,GAArB;;AACA,iBAAI,CAACZ,MAAL,CAAYC,MAAZ,CAAmB,eAAnB,EAAoC,KAApC;AACD,WAbH,EAcGY,KAdH,CAcS,UAAChB,KAAD,EAAW;AAChB,iBAAI,CAACG,MAAL,CAAYC,MAAZ,CAAmB,eAAnB,EAAoC,KAApC;;AACAa,mBAAO,CAACC,GAAR,CAAYlB,KAAK,CAACmB,QAAlB;AACD,WAjBH;AAkBF;AACD,OA1BH,EA2BGH,KA3BH,CA2BS,UAAChB,KAAD,EAAW;AAChB,YAAIA,KAAK,CAACmB,QAAN,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;AAChC,eAAI,CAACpB,KAAL,GAAaA,KAAK,CAACmB,QAAN,CAAetB,IAAf,CAAoBwB,MAAjC;AACF;AACD,OA/BH;AAgCD;AAnCM;AATI,CAAf","names":["axios","name","data","email","password","error","methods","login","$store","commit","post","then","res","get","headers","Authorization","resp","token","user","$router","replace","catch","console","log","response","status","errors"],"sourceRoot":"","sources":["/home/prantho/Public/important/vue/blog_api/src/views/login.vue"],"sourcesContent":["<template>\n  <section>\n    <div class=\"col-md-6 mx-auto card\">\n      <form class=\"m-3\" @submit.prevent=\"login\">\n        <h2 class=\"text-center\">Login Page</h2>\n        <div class=\"form-floating mb-3\">\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"floatingInput\"\n            placeholder=\"name@example.com\"\n            v-model=\"email\"\n          />\n          <label for=\"floatingInput\">Email address</label>\n        </div>\n        <h6 class=\"text-danger\" v-if=\"error && error.email\">\n          {{ error.email[0] }}\n        </h6>\n        <div class=\"form-floating\">\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"floatingPassword\"\n            placeholder=\"Password\"\n            v-model=\"password\"\n          />\n          <label for=\"floatingPassword\">Password</label>\n        </div>\n        <h6 class=\"text-danger\" v-if=\"error && error.password\">\n          {{ error.password[0] }}\n        </h6>\n\n        <button class=\"btn btn-success mt-3\">Login</button>\n      </form>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      error: null,\n    };\n  },\n  methods: {\n    login() {\n      this.$store.commit(\"loadingToggle\", true);\n      axios\n        .post(\"api/login\", {\n          email: this.email,\n          password: this.password,\n        })\n        .then((res) => {\n          if (res.data) {\n            axios\n              .get(\"api/user\", {\n                headers: {\n                  Authorization: \"Bearer \" + res.data,\n                },\n              })\n              .then((resp) => {\n                this.$store.commit(\"setAuth\", {\n                  token: res.data,\n                  user: resp.data,\n                });\n                this.$router.replace(\"/\");\n                this.$store.commit(\"loadingToggle\", false);\n              })\n              .catch((error) => {\n                this.$store.commit(\"loadingToggle\", false);\n                console.log(error.response);\n              });\n          }\n        })\n        .catch((error) => {\n          if (error.response.status == 422) {\n            this.error = error.response.data.errors;\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}